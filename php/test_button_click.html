<!DOCTYPE html>
<html>
<head>
    <title>Test Button Click</title>
</head>
<body>
    <h1>Test Profile Search Button</h1>
    <form id="search-profiles-form" onsubmit="return false;">
        <input type="text" id="profile-search-query" placeholder="Enter username..." value="test">
        <button type="button" id="search-profiles-btn">Search Users</button>
    </form>
    
    <div id="results"></div>
    
    <script>
        console.log('Script loaded');
        
        // Test direct event listener
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded');
            const btn = document.getElementById('search-profiles-btn');
            if (btn) {
                console.log('Button found:', btn);
                btn.addEventListener('click', function(e) {
                    console.log('Button clicked directly!');
                    e.preventDefault();
                    document.getElementById('results').innerHTML = '<p>Button click detected!</p>';
                });
            } else {
                console.error('Button not found');
            }
        });
        
        // Test event delegation
        document.addEventListener('click', function(e) {
            if (e.target && e.target.id === 'search-profiles-btn') {
                console.log('Button clicked via delegation!');
                e.preventDefault();
                e.stopPropagation();
                document.getElementById('results').innerHTML = '<p>Button click detected via delegation!</p>';
            }
        });
    </script>
</body>
</html>
